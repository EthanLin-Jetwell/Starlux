<aura:component implements="forceCommunity:availableForAllPageTypes,force:hasRecordId,flexipage:availableForRecordHome" access="global" controller="WebFormController">
	<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="Device" type="String"/>
    
    <aura:attribute name="RefundRecordTypeId" type="Id"/> 
    <aura:attribute name="activeSections" type="List" default="['C','B','A']" />
    <aura:attribute name="options" type="List" default="[]"/>
    <aura:attribute name="value" type="String" default="trustee"/>
    <aura:attribute name="ValidStatus" type="Boolean" default='true'/>
    <aura:attribute name="ConsentCheckStatus" type="Boolean" default='true'/>
    <aura:attribute name="AcknowledgementList" type="List" default='Consent'/>
    <aura:attribute name="RequiredList" type="List" default='ContactSalutation,FamilyName,GivenName,ContactEmail,CountryCode,PhoneNumber,Country,PaymentForm,RefundReason,TicketNumber,DepartDate'/>
    <aura:attribute name="TrusteeList" type="List" default='AlternateContactSalutation,AlternateFamilyName,AlternateGivenName,AlternateEmail,AlternateCountryCode,AlternatePhoneNumber'/>
    
    <lightning:card title="{!$Label.c.webForm_formRefund_formTitle}" iconName="action:description">
    	<Lightning:layout multipleRows="true">
           <Lightning:layoutItem flexibility="auto" padding="around-small">

				<Lightning:messages />

    			<!-- SET the Case recordType for this FORM -->
    			<Lightning:recordEditForm aura:id="formRefund"
                                         objectApiName="Case"
                                         recordTypeId="{!v.RefundRecordTypeId}"
                                         density="comfy" 
                                         onsuccess="{!c.handleSuccess}"
                                         onsubmit="{!c.handleSubmit}"
                                         onload="{!c.handleOnload}"
                                         onerror="{!c.handleError}">
                    <!--lightning:messages /-->
                    
<div class="slds-box slds-theme_default" style="border:none">
    <aura:unescapedHtml value="{!$Label.c.webForm_formRefund_formStartDisclaimer}"/>
    <div><BR></BR></div>
    <aura:unescapedHtml value="{!$Label.c.webForm_formRefund_formStartDisclaimer2}"/>
	<div><BR></BR></div>
    <aura:unescapedHtml value="{!$Label.c.webForm_formRefund_formStartDisclaimer3}"/>
               </div>                   
    <div><BR></BR></div>                
<div class="slds-box slds-theme_default">
        <label class="slds-m-top_medium">{!$Label.c.webForm_message_FormHeader}</label>
    <div><BR></BR></div>
                <div class="slds-form" role="list">
                  <div class="slds-form__row" style="margin-left:0px">
                        <lightning:radioGroup name="radioGroup"
                                                  label="{!$Label.c.webForm_formEnquiry_IdentityCheck}"
                                                  options="{! v.options }"
                                                  value="{! v.value }"
                                                  type="radio"
                                              	  />
                    </div>
</div></div>     
<div><BR></BR></div>
                    
<lightning:accordion allowMultipleSectionsOpen="true" aura:id="accordion" activeSectionName="{!v.activeSections}">
    
    <aura:renderif isTrue="{!v.value == 'trustee'}">
    	<lightning:accordionSection name="A" label="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader}">
            <div class="slds-form__row">
                    <div class="slds-form__item" role="listitem">
                          <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                                    <aura:if isTrue="{!v.Device == 'DESKTOP'}">
                                        <lightning:formattedText value="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader2}" class="textCustom"/>
                                    </aura:if>
                                    <aura:if isTrue="{!v.Device == 'PHONE'}">
                                        <lightning:formattedText value="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader2}" class="textCustomPhone"/>
                                    </aura:if>
                                    <aura:if isTrue="{!v.Device == 'TABLET'}">
                                        <lightning:formattedText value="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader2}" class="textCustomPhone"/>
                                    </aura:if>
                              </div>
                         </div>
                </div>
            <div class="slds-form__row slds-is-open">
                     <div class="slds-form__item" role="listitem">
                      <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                          		<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_Title}" class="textCustom"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_Title}" class="textCustomPhone"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_Title}" class="textCustomPhone"/>
                             	</aura:if>
                         <lightning:inputField aura:id="AlternateContactSalutation" fieldName="Alternate_Contact_Title__c" class="customRequired" variant="label-hidden"/>
                          </div>
                     </div>
                     </div>
            
            		<div class="slds-form__row">
                        <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <lightning:input aura:id="AlternateFamilyName" label="{!$Label.c.webForm_formEnquiry_FamilyName}" name="AlternateFamilyName" class="customRequired"/>
                             </div>
                     </div>
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <lightning:input aura:id="AlternateGivenName" label="{!$Label.c.webForm_formEnquiry_GivenName}" name="AlternateGivenName" class="customRequired"/>
                         </div>
                     </div></div>
 
                  <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem" style="width:200px">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                             	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_EmailAddress}" class="textCustom"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_EmailAddress}" class="textCustomPhone"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_EmailAddress}" class="textCustomPhone"/>
                             	</aura:if>
                         <Lightning:inputField aura:id="AlternateEmail" fieldName="Alternate_Contact_Email__c" class="customRequired" variant="label-hidden"/>
                         </div>
                     </div></div>
            
            		<div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
							<Lightning:inputField aura:id="AlternateCountryCode" fieldName="Alternate_Contact_Country_Code__c" class="customRequired"/>                         </div>
                     </div>
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <Lightning:input aura:id="AlternatePhoneNumber" label="{!$Label.c.webForm_formEnquiry_PhoneNumber}" name="AlternatePhoneNumber" class="customRequired"/>
                         </div>
                     </div></div>
            
        </lightning:accordionSection>
    </aura:renderif>
    
    	<lightning:accordionSection name="B" label="{!$Label.c.webForm_formEnquiry_PassengerInfoHeader}">
            <div class="slds-form" role="list">
                  <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                      <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                          		<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader2}" class="textCustom"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader2}" class="textCustomPhone"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_TrusteeInfoHeader2}" class="textCustomPhone"/>
                             	</aura:if>
                          </div>
                     </div>
                     </div>
                  <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                      <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                          		<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_Title}" class="textCustom"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_Title}" class="textCustomPhone"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_Title}" class="textCustomPhone"/>
                             	</aura:if>
                         <lightning:inputField aura:id="ContactSalutation" fieldName="Passenger_Title__c" class="customRequired" variant="label-hidden"/>
                          </div>
                     </div>
                     </div>
                
                <div class="slds-form__row">
                    <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <lightning:input aura:id="FamilyName" label="{!$Label.c.webForm_formEnquiry_FamilyName}" name="FamilyName" class="customRequired"/>
                             </div>
                     </div>
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <lightning:input aura:id="GivenName" label="{!$Label.c.webForm_formEnquiry_GivenName}" name="GivenName" class="customRequired"/>
                         </div>
                     </div></div>

                  <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem" style="width:200px">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <!--lightning:inputField aura:id="SuppliedEmail" fieldName="SuppliedEmail" class="customRequired"/-->
                             	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_EmailAddress}" class="textCustom"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_EmailAddress}" class="textCustomPhone"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formEnquiry_EmailAddress}" class="textCustomPhone"/>
                             	</aura:if>
                             <lightning:inputField aura:id="ContactEmail" fieldName="Passenger_Email__c" class="customRequired" variant="label-hidden"/>
                         </div>
                     </div></div>
                    
                    <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <Lightning:inputField aura:id="CountryCode" fieldName="Country_Code__c" class="customRequired"/>
                         </div>
                     </div>
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <lightning:input aura:id="PhoneNumber" label="{!$Label.c.webForm_formEnquiry_PhoneNumber}" name="PhoneNumber" class="customRequired"/>
                         </div>
                     </div></div>
                    
                    <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <Lightning:inputField aura:id="MembershipNo" fieldName="Membership_No__c"/>
                         </div>
                     </div>
                    <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formRefund_TicketEMDNo}" class="textCustom"/>
                             </aura:if>
                             <aura:if isTrue="{!v.Device == 'PHONE'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formRefund_TicketEMDNo}" class="textCustomPhone"/>
                             </aura:if>
                             <aura:if isTrue="{!v.Device == 'TABLET'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formRefund_TicketEMDNo}" class="textCustomPhone"/>
                             </aura:if>
                             <Lightning:inputField aura:id="TicketNumber" fieldName="Ticket_EMD_Number__c" class="customRequired" variant="label-hidden"/>
                         </div>
                     </div></div>
                
                  <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formEnquiry_DepartureLocation}" class="textCustom"/>
                             </aura:if>
                             <aura:if isTrue="{!v.Device == 'PHONE'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formEnquiry_DepartureLocation}" class="textCustomPhone"/>
                             </aura:if>
                             <aura:if isTrue="{!v.Device == 'TABLET'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formEnquiry_DepartureLocation}" class="textCustomPhone"/>
                             </aura:if>
                            <Lightning:inputField aura:id="Country" fieldName="Departure_Location__c" class="customRequired" variant="label-hidden"/>
                         </div>
                     </div>
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <Lightning:inputField aura:id="DepartDate" fieldName="Flight_Date__c" class="customRequired customRequired2" id="DepartDate"/>
                         </div>
                  	 </div></div>
                
                  <div class="slds-form__row">
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <ui:button aura:id="btn_dep_info" class="btn" label="{!$Label.c.webForm_formEnquiry_GuideInfo}" press="{!c.getGuideInfo}"/>
                         </div>                         
                     </div></div>
                <div><BR></BR></div>
                
				</div>
            
        </lightning:accordionSection>
   
    <lightning:accordionSection name="C" label="{!$Label.c.webForm_formRefund_RefundInfoHeader}">
        <div class="slds-form" role="list">
        		<div class="slds-form__row">
                    <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px;font-weight:400">
                             	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formRefund_Payment}" class="textComments"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formRefund_Payment}" class="textCommentsPhone"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formRefund_Payment}" class="textCommentsPhone"/>
                             	</aura:if>
                             <Lightning:inputField aura:id="PaymentForm" fieldName="Form_of_Payment__c" variant="label-hidden"/>
                         </div>
                     </div>
                     </div>	
            <div class="slds-form__row"> 
                    <div class="slds-form__item" role="listitem"> 
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         <Lightning:inputField aura:id="RefundReason" fieldName="Reason_for_Refund__c" class="customRequired"/>
                         </div> 
                     </div>
                     </div>
            
            <div class="slds-form__row">
                <div class="slds-form__item" role="listitem">
                	<div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:400px">
                         	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formRefund_RelatedRefundQualificationCase}" class="textCustom"/>
                             </aura:if>
                             <aura:if isTrue="{!v.Device == 'PHONE'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formRefund_RelatedRefundQualificationCase}" class="textCustomPhone"/>
                             </aura:if>
                             <aura:if isTrue="{!v.Device == 'TABLET'}">
                                 <lightning:formattedText value="{!$Label.c.webForm_formRefund_RelatedRefundQualificationCase}" class="textCustomPhone"/>
                             </aura:if>
                             <Lightning:inputField aura:id="RelatedRefundQualificationCase" fieldName="Related_Refund_Qualification_Case__c" variant="label-hidden"/>
                    </div>     
                </div>
              </div>
            
            
            <div class="slds-form__row">  
                     <div class="slds-form__item" role="listitem">
                         <div class="slds-form-element slds-form-element_edit slds-form-element_stacked slds-hint-parent" style="max-width:1100px">
                            <lightning:input aura:id="Consent" type="checkbox" label="{!$Label.c.webForm_formRefund_Consent}" class="customRequired" />
                             	<aura:if isTrue="{!v.Device == 'DESKTOP'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formRefund_Consent2}" class="textConsent"/>
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'PHONE'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formRefund_Consent2}" class="textConsentPhone"/>	
                             	</aura:if>
                             	<aura:if isTrue="{!v.Device == 'TABLET'}">
                             		<lightning:formattedText value="{!$Label.c.webForm_formRefund_Consent2}" class="textConsentPhone"/>
                             	</aura:if>
                         </div>
                     </div> 
                </div>  
        </div> 
    </lightning:accordionSection>
      
    </lightning:accordion>
        
<div><BR> </BR></div>
<footer class="slds-card__footer">                    
                        <Lightning:button variant="brand" class="btn" type="submit" label="{!$Label.c.webForm_text_SubmitButton}"/>
                        <Lightning:inputField aura:id="Origin" fieldName="Origin" class="slds-hide"/>
     					<Lightning:inputField aura:id="CaseSubType" fieldName="Case_Sub_type__c" class="slds-hide" value="Apply for Refund"/>
                        <Lightning:inputField aura:id="SuppliedName" fieldName="SuppliedName" class="slds-hide"/>
    					<Lightning:inputField aura:id="SuppliedEmail" fieldName="SuppliedEmail" class="slds-hide"/>
    					<Lightning:inputField aura:id="AlternateContactPhone" fieldName="Alternate_Contact_Phone__c" class="slds-hide"/>
    					<Lightning:inputField aura:id="AlternateContactName" fieldName="Alternate_Contact_Name__c" class="slds-hide"/>
    					<Lightning:inputField aura:id="SuppliedPhone" fieldName="SuppliedPhone" class="slds-hide"/>
    					<Lightning:inputField aura:id="ConsentBox" fieldName="Consent_to_Collect_Personal_Data__c" class="slds-hide"/>
</footer>
               </Lightning:recordEditForm>
            </Lightning:layoutItem>
       </Lightning:layout>
    </lightning:card>
    
</aura:component>