public class UpdateLegStatus {
    public Seat_Allocation_and_Ticketing__c currentSAT{set;get;}
    public String recordId{set;get;}
    public UpdateLegStatus(ApexPages.StandardController controller)
    {
        recordId=controller.getId();
        currentSAT=new Seat_Allocation_and_Ticketing__c();
        List<Seat_Allocation_and_Ticketing__c> tmpSATList=new List<Seat_Allocation_and_Ticketing__c>();
        tmpSATList=[SELECT Id FROM Seat_Allocation_and_Ticketing__c WHERE Id=:recordId 
                    AND Case_ID__r.Status IN ('New','Ticket sales in progress','Request for ticketing')
                    AND Allocation_Type__c IN('SRS','ADC') 
                    AND Final_Allocated_Seats__c>0 
                    AND Sync_SAT_Status__c='Succeeded'];
        /*AND (Returning_PNR_Status__c IN ('HN','TN') OR Departing_PNR_Status__c IN('HN','TN')) 
AND Case_ID__r.Integration_Link_Status__c=true */
        if(tmpSATList.size()>0)
        {
            currentSAT=tmpSATList[0];
        }
    }
    public void SATUpdateLegStatus()
    {
        
        if(currentSAT.Id!=null)
        {
            List<String> SATNameList=new List<String>();
            SATNameList.add(currentSAT.Id);
            MiddlewareUtil.updatelegStatus(SATNameList);
        }
        
        
        /*PageReference p = new PageReference('/'+recordId);
        p.setRedirect(true);
        return p;*/
    }
    
    public static void fakeMethod()
    {
        String i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
        i='0';
    }
}